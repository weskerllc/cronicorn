# ============================================================================
# Cronicorn Environment Configuration
# ============================================================================
#
# üöÄ ZERO-CONFIG LOCAL DEVELOPMENT:
# All variables below have sensible defaults. You can run `pnpm dev` with
# an EMPTY .env file and everything will work with local admin login!
#
# üìù PRODUCTION DEPLOYMENT:
# Override the variables marked "REQUIRED IN PRODUCTION" with secure values.
#
# ‚ö†Ô∏è  SECURITY: Never use dev defaults in production!
# ============================================================================

# ----------------------------------------------------------------------------
# üîê AUTHENTICATION (Choose ONE method - both have dev defaults)
# ----------------------------------------------------------------------------
# Option 1: Admin User (default - works out of the box)
# ADMIN_USER_EMAIL=admin@example.com
# ADMIN_USER_PASSWORD=devpassword
# ADMIN_USER_NAME=Admin User

# Option 2: GitHub OAuth (production recommended)
# Create at: https://github.com/settings/developers
# GITHUB_CLIENT_ID=your_github_oauth_app_client_id
# GITHUB_CLIENT_SECRET=your_github_oauth_app_client_secret

# Auth Secret (REQUIRED IN PRODUCTION)
# Generate with: openssl rand -base64 32
# BETTER_AUTH_SECRET=dev-secret-DO-NOT-USE-IN-PRODUCTION-min32chars

# ----------------------------------------------------------------------------
# üí≥ STRIPE PAYMENTS (Has dummy dev defaults - won't process real payments)
# ----------------------------------------------------------------------------
# REQUIRED IN PRODUCTION - Get from Stripe Dashboard (test keys for dev, live keys for prod)
# 1. Get API key
# STRIPE_SECRET_KEY=sk_test_or_live_your_stripe_secret_key_here

# 2. Run: pnpm tsx scripts/setup-stripe-products.ts
# STRIPE_PRICE_PRO=price_your_pro_monthly_price_id
# STRIPE_PRICE_PRO_ANNUAL=price_your_pro_annual_price_id
# STRIPE_PRICE_ENTERPRISE=price_your_enterprise_monthly_price_id

# 3. Get webhook secret from: stripe listen --forward-to localhost:3333/api/webhooks/stripe
# STRIPE_WEBHOOK_SECRET=whsec_your_webhook_signing_secret_here

# ----------------------------------------------------------------------------
# ü§ñ AI FEATURES (Optional - leave blank to disable AI scheduling)
# ----------------------------------------------------------------------------
# Get your key at: https://platform.openai.com/api-keys
# OPENAI_API_KEY=sk-your_openai_api_key_here
# AI_MODEL=gpt-4o-mini

# ----------------------------------------------------------------------------
# üóÑÔ∏è  DATABASE (Has dev defaults matching docker-compose.dev.yml)
# ----------------------------------------------------------------------------
# Docker Database Container Settings
# DB_PORT=5432
# DB_RESTART=unless-stopped
# POSTGRES_USER=user
# POSTGRES_PASSWORD=password
# POSTGRES_DB=db

# Connection String (auto-constructed from above if not set)
# DATABASE_URL=postgresql://user:password@localhost:5432/db

# Database Connection Pool (tune for your workload)
# DB_POOL_MAX - Maximum number of connections in pool
#   API default: 30 (handles ~100 concurrent users)
#   Scheduler/AI-planner default: 5 (background workers need fewer)
# DB_POOL_MAX=30

# DB_POOL_IDLE_TIMEOUT_MS - How long idle connections stay open (API only)
# DB_POOL_IDLE_TIMEOUT_MS=20000

# DB_POOL_CONNECTION_TIMEOUT_MS - Max time to wait for a connection (API only)
# DB_POOL_CONNECTION_TIMEOUT_MS=10000

# ----------------------------------------------------------------------------
# üåê DOMAIN & URLS (All have defaults - customize for production)
# ----------------------------------------------------------------------------
# Domain Configuration (for Traefik routing and SSL)
# DOMAIN=localhost                       # Your domain (use myapp.traefik.me for local HTTPS testing)
# LETSENCRYPT_EMAIL=admin@example.com    # Email for Let's Encrypt SSL certificates

# API Server Port (internal)
# PORT=3333                              # API server port

# URL Configuration (auto-generated from DOMAIN in docker-compose)
# For local development without Docker/Traefik:
# WEB_URL=http://localhost:5173          # Web UI URL (for CORS)
# API_URL=http://localhost:3333          # API URL for SSR (server-side calls from web app)
# BETTER_AUTH_URL=http://localhost:3333  # Auth base URL (without /api/auth path)
# BASE_URL=http://localhost:5173         # Base URL for OAuth callbacks
# VITE_SITE_URL=http://localhost:5173    # Web app public URL
# VITE_API_URL=http://localhost:3333     # API URL for client-side requests (browser)

# For production with Traefik (replace 'yourdomain.com' with your actual domain):
# WEB_URL=https://yourdomain.com         # Web UI URL (for CORS)
# API_URL=http://cronicorn-api:3333      # Internal API URL (Docker network)
# BETTER_AUTH_URL=https://yourdomain.com # Auth base URL (public)
# BASE_URL=https://yourdomain.com        # Base URL for OAuth callbacks
# VITE_SITE_URL=https://yourdomain.com   # Web app public URL
# VITE_API_URL=https://yourdomain.com    # API URL for client-side requests (public)

# MCP Server URLs (for AI agents/CLI tools)
# CRONICORN_API_URL=http://localhost:3333/api
# CRONICORN_WEB_URL=http://localhost:5173

# ----------------------------------------------------------------------------
# üõ†Ô∏è  DEVELOPMENT (Has defaults)
# ----------------------------------------------------------------------------
# NODE_ENV=development

# ----------------------------------------------------------------------------
# üê≥ DOCKER (Only for container deployments)
# ----------------------------------------------------------------------------
# IMAGE_REGISTRY=localhost:5000

